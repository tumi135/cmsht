{"version":3,"sources":["webpack:///./src/components/article/changeOrcreate.vue?9b9f","webpack:///./src/components/article/changeOrcreate.vue?7151","webpack:///./src/components/article/changeOrcreate.vue?ca98","webpack:///src/components/article/changeOrcreate.vue","webpack:///./src/components/article/changeOrcreate.vue?2c91","webpack:///./src/components/article/changeOrcreate.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","attrs","form","formRules","staticClass","minRows","model","value","callback","$$v","$set","expression","_l","item","key","id","type_name","class","hide","hideUploadEdit","uploaderImgs","handlePictureCardPreview","handleRemove","pic","dialogVisible","on","$event","dialogImageUrl","slot","goBack","_v","directives","name","rawName","modifiers","submitForm","staticRenderFns","props","type","String","info","Object","data","myReg","listorderValidator","test","Error","typeList","fullscreenLoading","type_id","content","tuijian","online","disabled","created","initTypeList","methods","console","log","file","url","fileList","length","$router","go","watch","pics","litpic","component"],"mappings":"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","file":"js/chunk-2182a498.fee384d0.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./changeOrcreate.vue?vue&type=style&index=0&id=1a0ca78a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./changeOrcreate.vue?vue&type=style&index=0&id=1a0ca78a&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./changeOrcreate.vue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./changeOrcreate.vue?vue&type=style&index=1&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\",\"rules\":_vm.formRules}},[_c('el-form-item',{attrs:{\"label\":\"内容\",\"prop\":\"content\"}},[_c('el-input',{staticClass:\"conten_input\",attrs:{\"maxlength\":\"800\",\"type\":\"textarea\",\"autosize\":{ minRows: 3 },\"show-word-limit\":\"\"},model:{value:(_vm.form.content),callback:function ($$v) {_vm.$set(_vm.form, \"content\", $$v)},expression:\"form.content\"}})],1),_c('el-form-item',{attrs:{\"label\":\"文章分类\",\"prop\":\"type_id\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.type_id),callback:function ($$v) {_vm.$set(_vm.form, \"type_id\", $$v)},expression:\"form.type_id\"}},_vm._l((_vm.typeList),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.type_name,\"value\":item.id}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"推荐等级\",\"prop\":\"tuijian\"}},[_c('el-input',{attrs:{\"maxlength\":\"2\",\"show-word-limit\":\"\",\"placeholder\":\"100以内正整数，数字越大越可能上首页\"},model:{value:(_vm.form.tuijian),callback:function ($$v) {_vm.$set(_vm.form, \"tuijian\", $$v)},expression:\"form.tuijian\"}})],1),_c('el-form-item',{attrs:{\"label\":\"上传图片\",\"prop\":\"pic\"}},[_c('el-upload',{ref:\"upload\",staticClass:\"my-uploader\",class:{ hide: _vm.hideUploadEdit },attrs:{\"list-type\":\"picture-card\",\"action\":\"\",\"auto-upload\":false,\"on-change\":_vm.uploaderImgs,\"on-preview\":_vm.handlePictureCardPreview,\"on-remove\":_vm.handleRemove,\"file-list\":_vm.form.pic,\"limit\":9,\"accept\":\".jpg, .jpeg, .png, .gif, .bmp, .pdf, .JPG, .JPEG, .PBG, .GIF, .BMP, .PDF\"}},[_c('i',{staticClass:\"el-icon-plus\"})]),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})])],1),_c('el-form-item',{attrs:{\"label\":\"上架\"}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},model:{value:(_vm.form.online),callback:function ($$v) {_vm.$set(_vm.form, \"online\", $$v)},expression:\"form.online\"}})],1)],1),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})]),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.goBack}},[_vm._v(\"取 消\")]),_c('el-button',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.fullscreenLoading),expression:\"fullscreenLoading\",modifiers:{\"fullscreen\":true,\"lock\":true}}],attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitForm}},[_vm._v(\"确 定\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template class=\"changeOrcreate\">\r\n  <div>\r\n    <el-form :model=\"form\" label-width=\"80px\" ref=\"form\" :rules=\"formRules\">\r\n      <el-form-item label=\"内容\" prop=\"content\">\r\n        <el-input\r\n          v-model=\"form.content\"\r\n          maxlength=\"800\"\r\n          type=\"textarea\"\r\n          :autosize=\"{ minRows: 3 }\"\r\n          show-word-limit\r\n          class=\"conten_input\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"文章分类\" prop=\"type_id\">\r\n        <el-select v-model=\"form.type_id\" placeholder=\"请选择\">\r\n          <el-option\r\n            v-for=\"item in typeList\"\r\n            :key=\"item.id\"\r\n            :label=\"item.type_name\"\r\n            :value=\"item.id\"\r\n          ></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"推荐等级\" prop=\"tuijian\">\r\n        <el-input\r\n          v-model=\"form.tuijian\"\r\n          maxlength=\"2\"\r\n          show-word-limit\r\n          placeholder=\"100以内正整数，数字越大越可能上首页\"\r\n        ></el-input>\r\n      </el-form-item>\r\n      <el-form-item label=\"上传图片\" prop=\"pic\">\r\n        <el-upload\r\n          list-type=\"picture-card\"\r\n          ref=\"upload\"\r\n          class=\"my-uploader\"\r\n          action\r\n          :auto-upload=\"false\"\r\n          :on-change=\"uploaderImgs\"\r\n          :on-preview=\"handlePictureCardPreview\"\r\n          :on-remove=\"handleRemove\"\r\n          :file-list=\"form.pic\"\r\n          :limit=\"9\"\r\n          :class=\"{ hide: hideUploadEdit }\"\r\n          accept=\".jpg, .jpeg, .png, .gif, .bmp, .pdf, .JPG, .JPEG, .PBG, .GIF, .BMP, .PDF\"\r\n        >\r\n          <i class=\"el-icon-plus\"></i>\r\n        </el-upload>\r\n        <el-dialog :visible.sync=\"dialogVisible\">\r\n          <img width=\"100%\" :src=\"dialogImageUrl\" alt />\r\n        </el-dialog>\r\n      </el-form-item>\r\n      <el-form-item label=\"上架\">\r\n        <el-switch\r\n          v-model=\"form.online\"\r\n          active-color=\"#13ce66\"\r\n          inactive-color=\"#ff4949\"\r\n        ></el-switch>\r\n      </el-form-item>\r\n    </el-form>\r\n    <el-dialog :visible.sync=\"dialogVisible\">\r\n      <img width=\"100%\" :src=\"dialogImageUrl\" alt />\r\n    </el-dialog>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button @click=\"goBack\">取 消</el-button>\r\n      <el-button\r\n        type=\"primary\"\r\n        @click=\"submitForm\"\r\n        v-loading.fullscreen.lock=\"fullscreenLoading\"\r\n        >确 定</el-button\r\n      >\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    type: String,\r\n    info: Object\r\n  },\r\n  data() {\r\n    var myReg = /^[1-9][0-9]*$/;\r\n    var listorderValidator = (rule, value, callback) => {\r\n      if (!myReg.test(value) || value > 99) {\r\n        return callback(new Error(\"请填写100以内正整数!!\"));\r\n      }\r\n      callback();\r\n    };\r\n    return {\r\n      typeList: [],\r\n      fullscreenLoading: false,\r\n      id: \"\",\r\n      form: {\r\n        type_id: \"\",\r\n        content: \"\",\r\n        pic: [],\r\n        tuijian: null,\r\n        online: true\r\n      },\r\n      dialogImageUrl: \"\",\r\n      dialogVisible: false,\r\n      disabled: false,\r\n      hideUploadEdit: false,\r\n      formRules: {\r\n        type_id: [{ required: true, message: \"请选择分类\", trigger: \"blur\" }],\r\n        content: [{ required: true, message: \"请填写内容\", trigger: \"blur\" }],\r\n        tuijian: [\r\n          { required: true, validator: listorderValidator, trigger: \"blur\" }\r\n        ]\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.initTypeList();\r\n  },\r\n  methods: {\r\n    //初始化分类\r\n    async initTypeList() {\r\n      let datas = await this.$api.articleTypeFreeQuery(1, 30).catch(err => {\r\n        console.log(err);\r\n        this.$message.error(\"数据获取失败\");\r\n        return \"\";\r\n      });\r\n      this.typeList = datas.data.list || [];\r\n    },\r\n    //上传本地图片\r\n    async uploaderImgs(file, fileList) {\r\n      var isLt1M, big;\r\n      isLt1M = file.size / 1024 / 1024 < 0.5;\r\n      big = 500;\r\n      console.log(isLt1M);\r\n      if (!isLt1M) {\r\n        this.$message.error(`上传文件大小不能超过 ${big}k!`);\r\n        return false;\r\n      }\r\n      let reader = new FileReader(); //html5读文件\r\n      let that = this;\r\n\r\n      reader.readAsDataURL(file.raw); //转BASE64\r\n      reader.onload = async function() {\r\n        //读取完毕后调用接口\r\n        let myImg = await that.$api\r\n          .uploadImgByBase64(reader.result, \"article_type\")\r\n          .catch(err => {\r\n            return err;\r\n          });\r\n        if (myImg.ret == 200 && myImg.data.err_code == 0) {\r\n          that.form.pic.push({\r\n            url: myImg.data.url,\r\n            name: \"article_type\"\r\n          });\r\n          that.hideUploadEdit = fileList.length >= 9;\r\n        } else {\r\n          that.$message({\r\n            message: \"图片上传失败,刷新或换图片！\",\r\n            type: \"error\"\r\n          });\r\n        }\r\n      };\r\n    },\r\n    //图片预览\r\n    handlePictureCardPreview(file) {\r\n      console.log(file);\r\n      this.dialogImageUrl = file.url;\r\n      this.dialogVisible = true;\r\n    },\r\n    //删除图片\r\n    handleRemove(file, fileList) {\r\n      this.form.pic = fileList;\r\n      this.hideUploadEdit = fileList.length >= 9;\r\n    },\r\n    //提交表单\r\n    async submitForm() {\r\n      this.$refs.form.validate(async valid => {\r\n        if (valid) {\r\n          this.fullscreenLoading = true;\r\n          var res;\r\n          if (this.type == \"change\") {\r\n            res = await this.submitChange();\r\n          } else if (this.type == \"create\") {\r\n            res = await this.submitCreate();\r\n          } else {\r\n            this.$message({\r\n              message: \"操作失败！\",\r\n              type: \"error\"\r\n            });\r\n            return false;\r\n          }\r\n          if (res.ret == 200 && res.data.err_code == 0) {\r\n            this.$message({\r\n              message: \"操作成功!\",\r\n              type: \"success\"\r\n            });\r\n            // this.$router.go(0);\r\n            this.goBack();\r\n          } else if (res == \"请登录后再操作\") {\r\n            this.$message({\r\n              message: \"请登录后再操作!\",\r\n              type: \"warning\"\r\n            });\r\n          } else {\r\n            this.$message({\r\n              message: \"网络错误，操作失败！\",\r\n              type: \"error\"\r\n            });\r\n          }\r\n          this.fullscreenLoading = false;\r\n        } else {\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    //返回上一页\r\n    goBack() {\r\n      this.$router.go(-1);\r\n    },\r\n    async submitChange() {\r\n      let pics = JSON.stringify({ pic: this.form.pic });\r\n      let online = this.form.online ? 0 : 1;\r\n      let res = await this.$api\r\n        .articleChange(\r\n          this.id,\r\n          this.form.type_id,\r\n          this.form.content,\r\n          online,\r\n          this.form.tuijian,\r\n          pics\r\n        )\r\n        .catch(err => {\r\n          return err;\r\n        });\r\n      return res;\r\n    },\r\n    async submitCreate() {\r\n      let pics = JSON.stringify({ pic: this.form.pic });\r\n      let online = this.form.online ? 0 : 1;\r\n      let res = await this.$api\r\n        .createArticle(\r\n          this.form.type_id,\r\n          this.form.content,\r\n          online,\r\n          this.form.tuijian,\r\n          pics\r\n        )\r\n        .catch(err => {\r\n          return err;\r\n        });\r\n      return res;\r\n    }\r\n  },\r\n  watch: {\r\n    info() {\r\n      let litpic = JSON.parse(this.info.litpic);\r\n      var pics;\r\n      if (litpic) {\r\n        pics = litpic.pic;\r\n        console.log(pics);\r\n      } else {\r\n        pics = [];\r\n      }\r\n      this.id = this.info.id;\r\n      this.form = {\r\n        type_id: this.info.type_id,\r\n        content: this.info.content,\r\n        pic: pics,\r\n        tuijian: this.info.tuijian,\r\n        online: this.info.online == 0 ? true : false\r\n      };\r\n    },\r\n    $router(){\r\n      this.initTypeList();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import \"../../assets/css/base.css\";\r\n.changeOrcreateBanner {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.el-input,\r\n.conten_input {\r\n  width: 300px;\r\n}\r\n</style>\r\n<style>\r\n.hide .el-upload--picture-card {\r\n  display: none;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./changeOrcreate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./changeOrcreate.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./changeOrcreate.vue?vue&type=template&id=1a0ca78a&scoped=true&class=changeOrcreate&\"\nimport script from \"./changeOrcreate.vue?vue&type=script&lang=js&\"\nexport * from \"./changeOrcreate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./changeOrcreate.vue?vue&type=style&index=0&id=1a0ca78a&scoped=true&lang=css&\"\nimport style1 from \"./changeOrcreate.vue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a0ca78a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}