(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45545318"],{7803:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"register"},[t("el-form",{ref:"register_from",staticClass:"register_from",attrs:{model:e.form,rules:e.rules,"label-width":"80px",size:"small"}},[t("el-form-item",{attrs:{label:"账号",prop:"name"}},[t("el-input",{attrs:{placeholder:"请输入4-8位字母或数字"},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{"show-password":"",placeholder:"请输入6-12位小写字母或数字"},model:{value:e.form.password,callback:function(r){e.$set(e.form,"password",r)},expression:"form.password"}})],1),t("el-form-item",{attrs:{label:"确认密码",prop:"checkPassword"}},[t("el-input",{attrs:{"show-password":""},model:{value:e.form.checkPassword,callback:function(r){e.$set(e.form,"checkPassword",r)},expression:"form.checkPassword"}})],1),t("el-form-item",{attrs:{label:"验证码",prop:"captcha_code"}},[t("el-input",{staticClass:"captcha",model:{value:e.form.captcha_code,callback:function(r){e.$set(e.form,"captcha_code",r)},expression:"form.captcha_code"}}),t("img",{staticClass:"captcha_img",attrs:{src:"data:image/jpeg;base64,"+e.captcha_img},on:{click:e.getCaptchaInfo}})],1),t("el-form-item",[t("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary","element-loading-text":"拼命加载中"},on:{click:e.checkChaInfo}},[e._v("注册")])],1)],1),t("div",{staticClass:"from_tips"},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.alert,expression:"alert"}],staticClass:"my_register_error"},[e._v(e._s(e.alert))]),t("p",[e._v(" 已有账号？ "),t("router-link",{staticClass:"go_login",attrs:{to:{name:"login"}}},[e._v("登录")])],1)])],1)},s=[],c=(t("b0c0"),t("d3b7"),t("96cf"),{data:function(){var e=this,r=/^[0-9a-zA-Z]{4,6}$/,t=/^[0-9a-z]{6,12}$/,a=function(e,t,a){return t?r.test(t)?void a():a(new Error("账号格式不对!")):a(new Error("请输入账号!"))},s=function(e,r,a){return r?t.test(r)?void a():a(new Error("密码格式不对!!")):a(new Error("请输入密码!"))},c=function(r,t,a){return t?t!==e.form.password?a(new Error("两次输入密码不一致!")):void a():a(new Error("请输入密码!"))};return{form:{name:"",password:"",checkPassword:"",captcha_code:""},rules:{name:[{required:!0,validator:a,trigger:"blur"}],password:[{required:!0,validator:s,trigger:"blur"}],checkPassword:[{required:!0,validator:c,trigger:"blur"}],captcha_code:[{required:!0,message:"请输入验证码",trigger:"blur"}]},captcha_id:"",captcha_img:"",alert:"",fullscreenLoading:!1}},created:function(){this.getCaptchaInfo()},methods:{getCaptchaInfo:function(){var e,r=this;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.$api.captchaCreate().catch((function(){r.$message({message:"验证码获取失败！",type:"error"})})));case 2:e=t.sent,200==e.ret&&0==e.data.err_code&&(this.captcha_img=e.data.captcha_img,this.captcha_id=e.data.captcha_id);case 4:case"end":return t.stop()}}),null,this)},checkChaInfo:function(){var e=this;this.alert="",this.$refs.register_from.validate((function(r){var t;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:if(!r){a.next=6;break}return e.fullscreenLoading=!0,a.next=4,regeneratorRuntime.awrap(e.$api.captchaVerify(e.captcha_id,e.form.captcha_code).catch((function(){e.$message({message:"注册失败！",type:"error"})})));case 4:t=a.sent,200==t.ret&&0==t.data.err_code?e.goRrgister():(e.fullscreenLoading=!1,e.alert=t.data.err_msg);case 6:case"end":return a.stop()}}))}))},goRrgister:function(){var e,r=this;return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,regeneratorRuntime.awrap(this.$api.userRegister(this.form.name,this.form.password).catch((function(){r.$message({message:"注册失败！",type:"error"})})));case 2:e=t.sent,this.fullscreenLoading=!1,200==e.ret&&0==e.data.err_code?(this.$message({message:"注册成功！",type:"success"}),this.$router.push({name:"login"})):this.alert=e.data.err_msg;case 5:case"end":return t.stop()}}),null,this)}}}),n=c,o=(t("c156"),t("2877")),i=Object(o["a"])(n,a,s,!1,null,"6c558185",null);r["default"]=i.exports},b0c0:function(e,r,t){var a=t("83ab"),s=t("9bf2").f,c=Function.prototype,n=c.toString,o=/^\s*function ([^ (]*)/,i="name";!a||i in c||s(c,i,{configurable:!0,get:function(){try{return n.call(this).match(o)[1]}catch(e){return""}}})},c156:function(e,r,t){"use strict";var a=t("e82c"),s=t.n(a);s.a},e82c:function(e,r,t){}}]);
//# sourceMappingURL=chunk-45545318.2fabc08f.js.map